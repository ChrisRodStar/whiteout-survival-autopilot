#TODO: if building takes more than N hours (depends on level or if more than 10 hours) then first enable governor buff (if available)
#TODO: if two buildings can be built then wait until both constructions are available to apply governor buff for both buildings

name: Building Queue 1

node: main_menu_city

priority: 20

ttl: 5m

steps:
  - click: buildings.queue1
  - wait: 1s
  - action: screenshot
    analyze:
      - name: buildings.state.text
        action: text
        type: string
        threshold: 0.5
  - if:
      trigger: compareText(buildings.state.text, "Upgrade")
      then:
        - click: building_upgrade_start
        - wait: 1s
        - click: building.start
        - wait: 1s
        - click: building.help
        - wait: 200ms
  - action: reset
    set: buildings.queue1
    to: ""
